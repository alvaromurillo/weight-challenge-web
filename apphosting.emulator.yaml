# Firebase App Hosting Emulator configuration for development
# Este archivo está diseñado para ser seguro de commitear según la documentación oficial
# Basado en: https://firebase.google.com/docs/app-hosting/emulate

runConfig:
  runtime: nodejs18
  
  env:
    # Configuración de Firebase para desarrollo (claves públicas)
    - variable: FIREBASE_WEBAPP_CONFIG
      value: '{"apiKey":"AIzaSyBzSnpSZ2fRq5cIG3hXMuqYXazqri325uI","authDomain":"weight-challenge-app-dev.firebaseapp.com","projectId":"weight-challenge-app-dev","storageBucket":"weight-challenge-app-dev.firebasestorage.app","messagingSenderId":"742316431711","appId":"1:742316431711:web:886c310185aec80dc63eea"}'
    
    # Variables de entorno para el emulador
    - variable: NODE_ENV
      value: development
    
    - variable: FIREBASE_APP_HOSTING_EMULATOR
      value: "true"
    
    # Configuración de emuladores
    - variable: NEXT_PUBLIC_USE_FIREBASE_EMULATOR
      value: "true"
    
    - variable: NEXT_PUBLIC_FIRESTORE_FORCE_LONG_POLLING
      value: "false"
    
    # URL base para el emulador (puerto 5002)
    - variable: NEXT_PUBLIC_APP_URL
      value: "http://localhost:5002"
    
    # Hub de emuladores
    - variable: FIREBASE_EMULATOR_HUB
      value: "localhost:4400"

# Para desarrollo, usamos el servidor de desarrollo de Next.js
# pero con las variables de entorno inyectadas
startCommand: "npm run dev"
