# Firebase App Hosting Emulator configuration (RECOMMENDED APPROACH)
# Based on: https://firebase.google.com/docs/app-hosting/emulate
# 
# âœ… This file is designed to be safe to commit and share with colleagues
# âœ… Uses Cloud Secret Manager for sensitive values (recommended for production teams)
# âœ… Consider using test-only API keys that don't have access to production data

runConfig:
  runtime: nodejs18
  
  env:
    # Simulate the automatic injection of FIREBASE_WEBAPP_CONFIG
    # This is what Firebase App Hosting does automatically in production
    # 
    # ðŸ”‘ RECOMMENDATION: Replace with test-only keys for development
    # ðŸ”‘ For production teams: Use Cloud Secret Manager with firebase apphosting:secrets:set
    - variable: FIREBASE_WEBAPP_CONFIG
      value: '{"apiKey":"AIzaSyBzSnpSZ2fRq5cIG3hXMuqYXazqri325uI","authDomain":"weight-challenge-app-dev.firebaseapp.com","projectId":"weight-challenge-app-dev","storageBucket":"weight-challenge-app-dev.firebasestorage.app","messagingSenderId":"742316431711","appId":"1:742316431711:web:886c310185aec80dc63eea"}'
    
    # Application environment for emulator
    - variable: NODE_ENV
      value: development
    
    # Emulator specific flags
    - variable: FIREBASE_EMULATOR_HUB
      value: localhost:4400
    
    # Indicate we're in App Hosting Emulator
    - variable: FIREBASE_APP_HOSTING_EMULATOR
      value: true

buildConfig:
  commands:
    - npm ci
    - npm run build
  outputDir: .next
